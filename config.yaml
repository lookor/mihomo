
# å…¨å±€é…ç½®
port: 7890 # HTTP(S) ä»£ç†æœåŠ¡å™¨ç«¯å£
socks-port: 7891 # SOCKS5 ä»£ç†ç«¯å£
redir-port: 7892 # é€æ˜ä»£ç†ç«¯å£ï¼Œç”¨äº Linux å’Œ MacOS
mixed-port: 7893 # HTTP(S) å’Œ SOCKS ä»£ç†æ··åˆç«¯å£

# Transparent proxy server port for Linux (TProxy TCP and TProxy UDP)
tproxy-port: 7894

allow-lan: true # å…è®¸å±€åŸŸç½‘è¿æ¥
bind-address: "*" # ç»‘å®š IP åœ°å€ï¼Œä»…ä½œç”¨äº allow-lan ä¸º trueï¼Œ'*'è¡¨ç¤ºæ‰€æœ‰åœ°å€
find-process-mode: off

# è¿è¡Œæ¨¡å¼(ä»»é€‰å…¶ä¸€):
# rule: è§„åˆ™æ¨¡å¼ - æ ¹æ®è§„åˆ™åŒ¹é…æ¥é€‰æ‹©ä»£ç†
# global: å…¨å±€æ¨¡å¼ - å…¨éƒ¨æµé‡èµ°ä»£ç†
# direct: ç›´è¿æ¨¡å¼ - å…¨éƒ¨æµé‡ä¸èµ°ä»£ç†
mode: rule

# æ—¥å¿—ç­‰çº§(æŒ‰è¯¦ç»†ç¨‹åº¦æ’åº):
# debug: è°ƒè¯•
# info: ä¿¡æ¯
# warning: è­¦å‘Š
# error: é”™è¯¯
# silent: é™é»˜
log-level: warning # æ—¥å¿—ç­‰çº§ silent/error/warning/info/debug

ipv6: false # å¼€å¯ IPv6 æ€»å¼€å…³ï¼Œå…³é—­é˜»æ–­æ‰€æœ‰ IPv6 é“¾æ¥å’Œå±è”½ DNS è¯·æ±‚ AAAA è®°å½•
unified-delay: true # ç»Ÿä¸€å»¶è¿Ÿï¼šç»Ÿä¸€æ˜¾ç¤ºèŠ‚ç‚¹å»¶è¿Ÿ

#æ§åˆ¶é¢æ¿
external-controller: 0.0.0.0:9090 # RESTful API ç›‘å¬åœ°å€
secret: "1124" # `Authorization:Bearer ${secret}`

tcp-concurrent: true # TCP å¹¶å‘è¿æ¥æ‰€æœ‰ IP, å°†ä½¿ç”¨æœ€å¿«æ¡æ‰‹çš„ TCP

# é…ç½® WEB UI ç›®å½•ï¼Œä½¿ç”¨ http://{{external-controller}}/ui è®¿é—®
external-ui: "/etc/mihomo/ui"
global-client-fingerprint: chrome

#  TCP keep alive interval
disable-keep-alive: false #ç›®å‰åœ¨androidç«¯å¼ºåˆ¶ä¸ºtrue
keep-alive-idle: 600
keep-alive-interval: 15
inbound-tfo: true # å…¥ç«™TCP Fast Open
outbound-tfo: true # å‡ºç«™TCP Fast Open

# è¿æ¥æ± é…ç½®
connection-pool-size: 256 # è¿æ¥æ± å¤§å°,å»ºè®®å€¼:128-512
idle-timeout: 60 # ç©ºé—²è¶…æ—¶æ—¶é—´(ç§’)

profile: # å­˜å‚¨ select é€‰æ‹©è®°å½•
  store-selected: true

  # æŒä¹…åŒ– fake-ip
  store-fake-ip: true

# å…¥ç«™
# Tun é…ç½®
tun:
  enable: true
  stack: mixed # gvisor/mixed/system
  dns-hijack: ["any:53", "tcp://any:53"]
  auto-detect-interface: true # è‡ªåŠ¨è¯†åˆ«å‡ºå£ç½‘å¡
  auto-route: true # é…ç½®è·¯ç”±è¡¨
  # mtu: 9000 # æœ€å¤§ä¼ è¾“å•å…ƒ
  # gso: false # å¯ç”¨é€šç”¨åˆ†æ®µå¸è½½ï¼Œä»…æ”¯æŒ Linux
  # gso-max-size: 65536 # é€šç”¨åˆ†æ®µå¸è½½åŒ…çš„æœ€å¤§å¤§å°
  auto-redirect: true # è‡ªåŠ¨é…ç½® iptables ä»¥é‡å®šå‘ TCP è¿æ¥ã€‚ä»…æ”¯æŒ Linuxã€‚å¸¦æœ‰ auto-redirect çš„ auto-route ç°åœ¨å¯ä»¥åœ¨è·¯ç”±å™¨ä¸ŠæŒ‰é¢„æœŸå·¥ä½œï¼Œæ— éœ€å¹²é¢„ã€‚

# å—…æ¢åŸŸå å¯é€‰é…ç½®
sniffer:
  enable: true
  sniff: # TLS å’Œ QUIC é»˜è®¤å¦‚æœä¸é…ç½® ports é»˜è®¤å—…æ¢ 443
    QUIC:
      ports: [443, 8443]
    TLS:
      ports: [443, 8443]

    # é»˜è®¤å—…æ¢ 80
    HTTP: # éœ€è¦å—…æ¢çš„ç«¯å£
      ports: [80, 8080-8880]
      # å¯è¦†ç›– sniffer.override-destination
      override-destination: true
  force-domain:
    - +.v2ex.com
  skip-domain:
    #   - Mijia Cloud
    - +.baidu.com

# DNS é…ç½®
dns:
  enable: true # å…³é—­å°†ä½¿ç”¨ç³»ç»Ÿ DNS
  listen: 0.0.0.0:1053 # å¼€å¯ DNS æœåŠ¡å™¨ç›‘å¬
  ipv6: false # false å°†è¿”å› AAAA çš„ç©ºç»“æœ
  default-nameserver:
    - 223.5.5.5
  enhanced-mode: fake-ip # or redir-host

  fake-ip-range: 28.0.0.1/8 # fake-ip æ± è®¾ç½®

  # é…ç½®ä¸ä½¿ç”¨ fake-ip çš„åŸŸå
  fake-ip-filter:
    - "rule-set:private_domain,cn_domain"
    - "+.msftconnecttest.com"
    - "+.msftncsi.com"
    - "time.*.com"
    - "+.fliggylink.com"
  fake-ip-filter-mode: blacklist

  respect-rules: true

  # DNS ä¸»è¦åŸŸåé…ç½®
  # æ”¯æŒ UDPï¼ŒTCPï¼ŒDoTï¼ŒDoHï¼ŒDoQ
  # è¿™éƒ¨åˆ†ä¸ºä¸»è¦ DNS é…ç½®ï¼Œå½±å“æ‰€æœ‰ç›´è¿ï¼Œç¡®ä¿ä½¿ç”¨å¯¹å¤§é™†è§£æç²¾å‡†çš„ DNS
  nameserver:
    - 112.4.0.55 #ç§»åŠ¨dns

  proxy-server-nameserver:
    - https://223.5.5.5/dns-query

#èŠ‚ç‚¹ä¿¡æ¯
#é¢„å®šä¹‰éƒ¨åˆ†é”šç‚¹
smux-common: &smux-common
  enabled: true
  protocol: "h2mux"
  padding: true
  max-connections: "8"
  min-streams: "16"
  statistic: true
  only-tcp: false

brutal-opts-common: &brutal-opts-common
  enabled: false
  up: "1000 Mbps"
  down: "1000 Mbps"
proxies:
  #è‡ªå»ºèŠ‚ç‚¹
  - { name: ç›´è¿, type: direct }
  - { name: æ‹’ç», type: reject }

# æœºåœºè®¢é˜…
# Mihomo æ ¼å¼çš„èŠ‚ç‚¹æˆ–æ”¯æŒ *ray çš„åˆ†äº«æ ¼å¼
proxy-providers:
  æœºåœºå:
    url: "[è®¢é˜…åœ°å€ï¼ˆæœºåœºåŸå§‹åœ°å€/Sub-Storeæ ¼å¼åŒ–åçš„åœ°å€ï¼‰]"
    type: http
    interval: 86400
    health-check:
      enable: true
      url: https://www.gstatic.com/generate_204
      interval: 300
    proxy: ç›´è¿

# é€‰æ‹©æ¨¡å¼ç‹¬ç«‹å®šä¹‰
# å°†è‡ªåŠ¨é€‰æ‹©ä¸æ‰‹åŠ¨é€‰æ‹©çš„åŠŸèƒ½é”šç‚¹å•ç‹¬æŠ½å‡ºï¼Œä¾¿äºå…¨å±€è°ƒæ•´é€‰æ‹©ç­–ç•¥
SelectionModes:
  Auto:
    &AutoSelect {
      type: url-test,
      url: "http://cp.cloudflare.com",
      interval: 300,
      tolerance: 50,
      disable-udp: false,
      hidden: true,
      include-all: true,
    }
  Manual:
    &ManualSelect {
      type: select,
      disable-udp: false,
      hidden: false,
      include-all: true,
    }
  Fallback:
    &FallbackSelect {
      type: fallback,
      include-all: true,
      tolerance: 20,
      interval: 300,
      lazy: false,
    }
  Smart:
    &SmartSelect {
      type: smart,
      include-all: true,
      policy-priority: ç‰›é€¼:0.8,
      uselightgbm: true,
      collectdata: true,
      interval: 300
    }
  # -----------------------------------------------
# æ­£åˆ™è¡¨è¾¾å¼é”šç‚¹å®šä¹‰ï¼šåˆ†ç±»è§„åˆ™
# è‡ªå»ºèŠ‚ç‚¹ï¼ˆåå­—ä¸­å«æœ‰ "BWH"ï¼‰
FilterSelfBuilt: &FilterSelfBuilt "^.*BWH.*$"

# é”šç‚¹å®šä¹‰ï¼šæ’é™¤æ— æ•ˆèŠ‚ç‚¹ä¿¡æ¯
FilterInvalidNodes: &FilterInvalidNodes "^((?!(ç›´è¿|æ‹’ç»|ç½‘å€|å‰©ä½™|åˆ°æœŸ|é‡ç½®)).)*$"
# è®¢é˜…èŠ‚ç‚¹åŒºåŸŸåˆ†ç±»
FilterSubHK: &FilterSubHK "^(?=.*(?:é¦™æ¸¯|HK|Hong Kong))(?!.*(ç½‘å€|å‰©ä½™|åˆ°æœŸ|é‡ç½®)).*$"
FilterSubTW: &FilterSubTW "^(?=.*(?:å°æ¹¾|TW|Taiwan))(?!.*(ç½‘å€|å‰©ä½™|åˆ°æœŸ|é‡ç½®)).*$"
FilterSubSG: &FilterSubSG "^(?=.*(?:æ–°åŠ å¡|SG|Singapore|ç‹®åŸ))(?!.*(ç½‘å€|å‰©ä½™|åˆ°æœŸ|é‡ç½®)).*$"
FilterSubJP: &FilterSubJP "^(?=.*(?:æ—¥æœ¬|JP|Japan))(?!.*(ç½‘å€|å‰©ä½™|åˆ°æœŸ|é‡ç½®)).*$"
FilterSubUS: &FilterSubUS "^(?=.*(?:ç¾å›½|US|United States|America))(?!.*(ç½‘å€|å‰©ä½™|åˆ°æœŸ|é‡ç½®)).*$"

#å‡ºç«™ç­–ç•¥
# æ³¨æ„é”šç‚¹å¿…é¡»æ”¾åœ¨å¼•ç”¨çš„ä¸Šæ–¹ï¼Œå¯ä»¥é›†ä¸­æŠŠé”šç‚¹å…¨éƒ¨æ”¾yamlçš„é¡¶éƒ¨ã€‚
pr:
  &pr {
    type: select,
    proxies:
      [
        ğŸš€ é»˜è®¤ä»£ç†,
        ğŸ§  æ™ºèƒ½é€‰æ‹©,
        ğŸ”¯ æ•…éšœè½¬ç§»,
        ğŸ‡­ğŸ‡°ğŸ§  é¦™æ¸¯æ™ºé€‰,
        ğŸ‡ºğŸ‡²ğŸ§  ç¾å›½æ™ºé€‰,
        ğŸ‡­ğŸ‡°ğŸ”¯ é¦™æ¸¯æ•…è½¬,
        ğŸ‡¨ğŸ‡³ğŸ”¯ å°æ¹¾æ•…è½¬,
        ğŸ‡¸ğŸ‡¬ğŸ”¯ æ–°åŠ å¡æ•…è½¬,
        ğŸ‡¯ğŸ‡µğŸ”¯ æ—¥æœ¬æ•…è½¬,
        ğŸ‡ºğŸ‡²ğŸ”¯ ç¾å›½æ•…è½¬,
        ğŸ˜ğŸ”¯ è‡ªå»ºæ•…è½¬,
        ğŸŒ å…¨éƒ¨èŠ‚ç‚¹,
        ç›´è¿,
        æ‹’ç»,
      ],
  }
proxy-groups:
  # ================================
  # 1. æ ¸å¿ƒä¸»å‡ºå£ç»„
  # ================================
  - { name: "ğŸš€ é»˜è®¤ä»£ç†", type: select, proxies: [ğŸ§  æ™ºèƒ½é€‰æ‹©, ğŸ”¯ æ•…éšœè½¬ç§», ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡­ğŸ‡°ğŸ§  é¦™æ¸¯æ™ºé€‰, ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹, ğŸ‡ºğŸ‡²ğŸ˜ è‡ªå»ºèŠ‚ç‚¹] }

  # ================================
  # 2. åº”ç”¨æœåŠ¡åˆ†ç»„
  # ================================
  - { name: "ğŸ“¹ YouTube", type: select, proxies: [ğŸ˜ğŸ§  è‡ªå»ºæ™ºé€‰, ğŸ‡ºğŸ‡²ğŸ˜ è‡ªå»ºèŠ‚ç‚¹, ğŸš€ é»˜è®¤ä»£ç†], icon: "https://raw.githubusercontent.com/Orz-3/mini/master/Color/YouTube.png" }
  - { name: "ğŸ¤– ChatGPT", type: select, proxies: [ğŸ‡ºğŸ‡²ğŸ§  ç¾å›½æ™ºé€‰, ğŸ‡¨ğŸ‡³ğŸ”¯ å°æ¹¾æ•…è½¬, ğŸš€ é»˜è®¤ä»£ç†], icon: "https://raw.githubusercontent.com/Orz-3/mini/master/Color/OpenAI.png" }
  - { name: "ğŸ“² Telegram", type: fallback, proxies: [ğŸ”¯ æ•…éšœè½¬ç§», ğŸ‡­ğŸ‡°ğŸ”¯ é¦™æ¸¯æ•…è½¬, ğŸ‡¸ğŸ‡¬ğŸ”¯ æ–°åŠ å¡æ•…è½¬, ğŸ‡¯ğŸ‡µğŸ”¯ æ—¥æœ¬æ•…è½¬], icon: "https://raw.githubusercontent.com/Orz-3/mini/master/Color/Telegram.png" }
  #- { name: "ğŸ“² Telegram", type: fallback, proxies: [ğŸ”¯ æ•…éšœè½¬ç§», ğŸ‡­ğŸ‡°ğŸ”¯ é¦™æ¸¯æ•…è½¬, ğŸ‡¸ğŸ‡¬ğŸ”¯ æ–°åŠ å¡æ•…è½¬, ğŸ‡¯ğŸ‡µğŸ”¯ æ—¥æœ¬æ•…è½¬], filter: *FilterInvalidNodes, icon: "https://raw.githubusercontent.com/Orz-3/mini/master/Color/Telegram.png" }
  - { name: "ğŸ€ Google", <<: *pr, icon: "https://raw.githubusercontent.com/Orz-3/mini/master/Color/Google.png" }
  - { name: "ğŸ‘¨ğŸ¿â€ğŸ’» GitHub", <<: *pr, icon: "https://raw.githubusercontent.com/Orz-3/mini/refs/heads/master/Color/github.png" }
  - { name: "ğŸ¬ OneDrive", <<: *pr }
  - { name: "ğŸ® æ¸¸æˆå¹³å°", <<: *pr }
  #- { name: "ğŸµ TikTok", <<: *pr, icon: "https://raw.githubusercontent.com/Orz-3/mini/master/Color/TikTok.png" }
  - { name: "ğŸ¥ NETFLIX", <<: *pr, icon: "https://raw.githubusercontent.com/Orz-3/mini/master/Color/Netflix.png" }
  - { name: "âœˆï¸ Speedtest", <<: *pr, icon: "https://raw.githubusercontent.com/Orz-3/mini/master/Color/Speedtest.png" }
  - { name: "ğŸ’¶ PayPal", <<: *pr, icon: "https://raw.githubusercontent.com/Orz-3/mini/refs/heads/master/Color/Paypal.png" }
  - { name: "ğŸªŸ Microsoft", type: select, proxies: [ç›´è¿, ğŸš€ é»˜è®¤ä»£ç†], filter: *FilterInvalidNodes, icon: "https://raw.githubusercontent.com/Orz-3/mini/master/Color/Microsoft.png" }
  - { name: "ğŸ Apple", type: select, proxies: [ç›´è¿, ğŸš€ é»˜è®¤ä»£ç†], filter: *FilterInvalidNodes, icon: "https://raw.githubusercontent.com/Orz-3/mini/master/Color/Apple.png" }

  # ================================
  # 3. ç³»ç»Ÿç”¨é€”ç»„
  # ================================
  - { name: "ğŸ¯ ç›´è¿", type: select, proxies: [ç›´è¿, ğŸš€ é»˜è®¤ä»£ç†] }
  - { name: "ğŸŸ æ¼ç½‘ä¹‹é±¼", type: select, proxies: [ç›´è¿, ğŸš€ é»˜è®¤ä»£ç†] }

  # ================================
  # 4. å…¨éƒ¨èŠ‚ç‚¹é€‰æ‹©ç±»
  # ================================
  #- { name: "â™»ï¸ è‡ªåŠ¨é€‰æ‹©", <<: *AutoSelect, filter: *FilterInvalidNodes }
  - { name: "ğŸ§  æ™ºèƒ½é€‰æ‹©", <<: *SmartSelect, filter: *FilterInvalidNodes }
  - { name: "ğŸ”¯ æ•…éšœè½¬ç§»", <<: *FallbackSelect, filter: *FilterInvalidNodes }
  - { name: "ğŸŒ å…¨éƒ¨èŠ‚ç‚¹", <<: *ManualSelect, filter: *FilterInvalidNodes }

  # ================================
  # 5. è‡ªå»ºèŠ‚ç‚¹åˆ†ç»„
  # ================================
  #- { name: "ğŸ˜â™»ï¸ è‡ªå»ºè‡ªåŠ¨", <<: *AutoSelect, filter: *FilterSelfBuilt }
  - { name: "ğŸ‡ºğŸ‡²ğŸ˜ è‡ªå»ºèŠ‚ç‚¹", <<: *ManualSelect, filter: *FilterSelfBuilt }
  - { name: "ğŸ˜ğŸ§  è‡ªå»ºæ™ºé€‰", <<: *SmartSelect, filter: *FilterSelfBuilt }
  - { name: "ğŸ˜ğŸ”¯ è‡ªå»ºæ•…è½¬", <<: *FallbackSelect, filter: *FilterSelfBuilt, proxies: [ğŸ‡ºğŸ‡²ğŸ˜ è‡ªå»ºèŠ‚ç‚¹, ğŸ˜ğŸ§  è‡ªå»ºæ™ºé€‰] }

  # ================================
  # 6. åœ°åŒºæœºåœºèŠ‚ç‚¹
  # ================================
    # è‡ªåŠ¨é€‰æ‹©
  #- { name: "ğŸ‡­ğŸ‡°â™»ï¸ é¦™æ¸¯è‡ªåŠ¨", <<: *AutoSelect, filter: *FilterSubHK }
  #- { name: "ğŸ‡¨ğŸ‡³â™»ï¸ å°æ¹¾è‡ªåŠ¨", <<: *AutoSelect, filter: *FilterSubTW }
  #- { name: "ğŸ‡¸ğŸ‡¬â™»ï¸ æ–°åŠ å¡è‡ªåŠ¨", <<: *AutoSelect, filter: *FilterSubSG }
  #- { name: "ğŸ‡¯ğŸ‡µâ™»ï¸ æ—¥æœ¬è‡ªåŠ¨", <<: *AutoSelect, filter: *FilterSubJP }
  #- { name: "ğŸ‡ºğŸ‡²â™»ï¸ ç¾å›½è‡ªåŠ¨", <<: *AutoSelect, filter: *FilterSubUS }
    # æ‰‹åŠ¨é€‰æ‹©
  - { name: "ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹", <<: *ManualSelect, filter: *FilterSubHK }
  - { name: "ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹", <<: *ManualSelect, filter: *FilterSubTW }
  - { name: "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹", <<: *ManualSelect, filter: *FilterSubSG }
  - { name: "ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹", <<: *ManualSelect, filter: *FilterSubJP }
  - { name: "ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹", <<: *ManualSelect, filter: *FilterSubUS }
    # æ•…éšœè½¬ç§»ç»„
  - { name: "ğŸ‡­ğŸ‡°ğŸ”¯ é¦™æ¸¯æ•…è½¬", <<: *FallbackSelect, filter: *FilterSubHK, proxies: [ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡­ğŸ‡°ğŸ§  é¦™æ¸¯æ™ºé€‰] }
  - { name: "ğŸ‡¨ğŸ‡³ğŸ”¯ å°æ¹¾æ•…è½¬", <<: *FallbackSelect, filter: *FilterSubTW, proxies: [ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹, ğŸ‡¨ğŸ‡³ğŸ§  å°æ¹¾æ™ºé€‰] }
  - { name: "ğŸ‡¸ğŸ‡¬ğŸ”¯ æ–°åŠ å¡æ•…è½¬", <<: *FallbackSelect, filter: *FilterSubSG, proxies: [ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ğŸ§  æ–°åŠ å¡æ™ºé€‰] }
  - { name: "ğŸ‡¯ğŸ‡µğŸ”¯ æ—¥æœ¬æ•…è½¬", <<: *FallbackSelect, filter: *FilterSubJP, proxies: [ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µğŸ§  æ—¥æœ¬æ™ºé€‰] }
  - { name: "ğŸ‡ºğŸ‡²ğŸ”¯ ç¾å›½æ•…è½¬", <<: *FallbackSelect, filter: *FilterSubUS, proxies: [ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹, ğŸ‡ºğŸ‡²ğŸ§  ç¾å›½æ™ºé€‰] }
    #æ™ºé€‰ç»„
  - { name: "ğŸ‡­ğŸ‡°ğŸ§  é¦™æ¸¯æ™ºé€‰", <<: *SmartSelect, filter: *FilterSubHK }
  - { name: "ğŸ‡¨ğŸ‡³ğŸ§  å°æ¹¾æ™ºé€‰", <<: *SmartSelect, filter: *FilterSubTW }
  - { name: "ğŸ‡¸ğŸ‡¬ğŸ§  æ–°åŠ å¡æ™ºé€‰", <<: *SmartSelect, filter: *FilterSubSG }
  - { name: "ğŸ‡¯ğŸ‡µğŸ§  æ—¥æœ¬æ™ºé€‰", <<: *SmartSelect, filter: *FilterSubJP }
  - { name: "ğŸ‡ºğŸ‡²ğŸ§  ç¾å›½æ™ºé€‰", <<: *SmartSelect, filter: *FilterSubUS }

  # ================================
  # 7. å…¶ä»–èŠ‚ç‚¹
  # ================================
  - { name: å…¶ä»–èŠ‚ç‚¹, <<: *ManualSelect, filter: "(?i)^(?!.*(ç›´è¿|æ‹’ç»|é¦™æ¸¯|å°æ¹¾|æ—¥æœ¬|æ–°åŠ å¡|ç¾å›½|BWH)).*" }
  - name: ğŸ›‘ å¹¿å‘Šæ‹¦æˆª
    type: select
    proxies:
      - REJECT
      - DIRECT

  - name: ğŸ† AdBlock
    type: select
    proxies:
      - REJECT
      - DIRECT

  - name: ğŸ›¡ï¸ éšç§é˜²æŠ¤
    type: select
    proxies:
      - REJECT
      - DIRECT

# è§„åˆ™é›†
rule-anchor:
  ip: &ip { type: http, interval: 86400, behavior: ipcidr, format: mrs }
  domain: &domain { type: http, interval: 86400, behavior: domain, format: mrs }
  class:
    &class { type: http, interval: 86400, behavior: classical, format: text }
rule-providers:
  # å¹¿å‘Šè§„åˆ™
  reject:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/reject.txt"
    #path: ./ruleset/reject.yaml
    interval: 86400

  # éšç§è§„åˆ™
  privacy:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script/rule/Clash/Privacy/Privacy.yaml"
    #path: ./ruleset/privacy.yaml
    interval: 86400

  # å¹¿å‘Šæ‰©å±•è§„åˆ™
  reject-extra:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script/rule/Clash/AdvertisingLite/AdvertisingLite.yaml"
    #path: ./ruleset/reject-extra.yaml
    interval: 86400

  private_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/private.mrs" }
  proxylite: { <<: *class, url: "https://raw.githubusercontent.com/qichiyuhub/rule/refs/heads/main/proxy.list" }
  ai: { <<: *domain, url: "https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/category-ai-!cn.mrs" }
  youtube_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/youtube.mrs" }
  google_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/google.mrs" }
  github_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/github.mrs" }
  telegram_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/telegram.mrs" }
  netflix_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/netflix.mrs" }
  paypal_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/paypal.mrs" }
  onedrive_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/onedrive.mrs" }
  microsoft_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/microsoft.mrs" }
  apple-cn_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/apple-cn.mrs" }
  apple_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/apple.mrs" }
  speedtest_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/ookla-speedtest.mrs" }
  # æ¸¸æˆå¹³å°è§„åˆ™
  blizzard_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/blizzard.mrs" }
  epicgames_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/epicgames.mrs" }
  steam_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/steam.mrs" }
  xbox_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/xbox.mrs" }
  nintendo_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/nintendo.mrs" }
  sony_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/sony.mrs" }
  #tiktok_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/tiktok.mrs" }
  gfw_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/gfw.mrs" }
  geolocation-!cn: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/geolocation-!cn.mrs" }
  cn_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/cn.mrs" }
  cn_ip: { <<: *ip, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/cn.mrs" }
  google_ip: { <<: *ip, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/google.mrs" }
  telegram_ip: { <<: *ip, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/telegram.mrs" }
  netflix_ip: { <<: *ip, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/netflix.mrs" }

# è§„åˆ™åŒ¹é…
rules:
  # ä¼˜å…ˆå¤„ç†
  - RULE-SET,reject,ğŸ›‘ å¹¿å‘Šæ‹¦æˆª,no-resolve
  - RULE-SET,privacy,ğŸ›¡ï¸ éšç§é˜²æŠ¤,no-resolve
  - RULE-SET,reject-extra,ğŸ† AdBlock,no-resolve
  
  # æœ¬åœ°å±€åŸŸç½‘
  - DOMAIN-SUFFIX,qichiyu.com,ğŸš€ é»˜è®¤ä»£ç†
  - RULE-SET,apple_domain,ğŸ Apple
  - RULE-SET,proxylite,ğŸš€ é»˜è®¤ä»£ç†
  - RULE-SET,ai,ğŸ¤– ChatGPT
  - RULE-SET,github_domain,ğŸ‘¨ğŸ¿â€ğŸ’» GitHub
  - RULE-SET,youtube_domain,ğŸ“¹ YouTube
  - RULE-SET,google_domain,ğŸ€ Google
  - RULE-SET,blizzard_domain,ğŸ® æ¸¸æˆå¹³å°,no-resolve
  - RULE-SET,epicgames_domain,ğŸ® æ¸¸æˆå¹³å°,no-resolve
  - RULE-SET,steam_domain,ğŸ® æ¸¸æˆå¹³å°,no-resolve
  - RULE-SET,xbox_domain,ğŸ® æ¸¸æˆå¹³å°,no-resolve
  - RULE-SET,nintendo_domain,ğŸ® æ¸¸æˆå¹³å°,no-resolve
  - RULE-SET,sony_domain,ğŸ® æ¸¸æˆå¹³å°,no-resolve
  - RULE-SET,onedrive_domain,ğŸ¬ OneDrive
  - RULE-SET,microsoft_domain,ğŸªŸ Microsoft
  #- RULE-SET,tiktok_domain,ğŸµ TikTok
  - RULE-SET,speedtest_domain,âœˆï¸ Speedtest
  - RULE-SET,telegram_domain,ğŸ“² Telegram
  - RULE-SET,netflix_domain,ğŸ¥ NETFLIX
  - RULE-SET,paypal_domain,ğŸ’¶ PayPal
  - RULE-SET,gfw_domain,ğŸš€ é»˜è®¤ä»£ç†
  - RULE-SET,geolocation-!cn,ğŸš€ é»˜è®¤ä»£ç†
  - RULE-SET,cn_domain,ğŸ¯ ç›´è¿

  #ipè§„åˆ™
  - RULE-SET,google_ip,ğŸ€ Google,no-resolve
  - RULE-SET,netflix_ip,ğŸ¥ NETFLIX,no-resolve
  - RULE-SET,telegram_ip,ğŸ“² Telegram,no-resolve
  - RULE-SET,cn_ip,ğŸ¯ ç›´è¿

# è‡ªå®šä¹‰è§„åˆ™
  - PROCESS-NAME,Thunder,DIRECT
  - PROCESS-NAME,DownloadService,DIRECT
  - PROCESS-NAME,qBittorrent,DIRECT
  - PROCESS-NAME,Transmission,DIRECT
  - PROCESS-NAME,fdm,DIRECT
  - PROCESS-NAME,aria2c,DIRECT
  - PROCESS-NAME,Folx,DIRECT
  - PROCESS-NAME,NetTransport,DIRECT
  - PROCESS-NAME,uTorrent,DIRECT
  - PROCESS-NAME,WebTorrent,DIRECT

  # åœ°åŸŸè§„åˆ™
  - GEOIP,LAN,DIRECT,no-resolve
  - GEOIP,CN,DIRECT,no-resolve

  # å…œåº•è§„åˆ™
  - MATCH,ğŸŸ æ¼ç½‘ä¹‹é±¼
